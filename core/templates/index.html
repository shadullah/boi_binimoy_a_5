{% extends "base.html" %} {% load static %} {% block content %}
<style>
  .bg {
    width: 100%;
    height: 500px;
    position: relative;
    overflow: hidden;
  }
  .slide {
    width: 100%;
    height: 100%;
    position: absolute;
    transition: 1s;
  }
  .btns1 {
    position: absolute;
    top: 400px;
  }
  .btns2 {
    position: absolute;
    top: 400px;
    right: 0px;
  }

  .nav button {
    font-size: 25px;
    border: none;
  }


  :root {
  --marquee-width: 80vw;
  --marquee-height: 20vh;
  /* --marquee-elements: 12; */ /* defined with JavaScript */
  --marquee-elements-displayed: 5;
  --marquee-element-width: calc(var(--marquee-width) / var(--marquee-elements-displayed));
  --marquee-animation-duration: calc(var(--marquee-elements) * 3s);
}

.marquee {
  width: var(--marquee-width);
  height: var(--marquee-height);
  background-color: #111;
  color: #eee;
  overflow: hidden;
  position: relative;
}
.marquee:before, .marquee:after {
  position: absolute;
  top: 0;
  width: 10rem;
  height: 100%;
  content: "";
  z-index: 1;
}
.marquee:before {
  left: 0;
  background: linear-gradient(to right, #111 0%, transparent 100%);
}
.marquee:after {
  right: 0;
  background: linear-gradient(to left, #111 0%, transparent 100%);
}
.marquee-content {
  list-style: none;
  height: 100%;
  display: flex;
  animation: scrolling var(--marquee-animation-duration) linear infinite;
}
/* .marquee-content:hover {
  animation-play-state: paused;
} */
@keyframes scrolling {
  0% { transform: translateX(0); }
  100% { transform: translateX(calc(-1 * var(--marquee-element-width) * var(--marquee-elements))); }
}
.marquee-content li {
  display: flex;
  justify-content: center;
  align-items: center;
  /* text-align: center; */
  flex-shrink: 0;
  width: var(--marquee-element-width);
  max-height: 100%;
  font-size: calc(var(--marquee-height)*3/4); /* 5rem; */
  white-space: nowrap;
}

.marquee-content li img {
  width: 100%;
  /* height: 100%; */
  border: 2px solid #eee;
}

@media (max-width: 600px) {
  html { font-size: 12px; }
  :root {
    --marquee-width: 100vw;
    --marquee-height: 16vh;
    --marquee-elements-displayed: 3;
  }
  .marquee:before, .marquee:after { width: 5rem; }
}

</style>
<div>
  <div class="bg">
    <div class="slide bg-gray-100">
      <div class="flex justify-between items-center">
        <div class="w-1/2 px-16 ml-12">
          <h5 class="text-yellow-400 my-2 text-2xl">Best Seller</h5>
          <h1 class="text-5xl font-bold mb-2">Think And Grow Rich</h1>
          <p class="text-xl italic mb-5">Nepoleon Hill</p>
          <p class="text-sm mb-5">
            This book reminded me of when my wife encouraged me to read the
            Ferber sleeping book which was 250+ pages about the science of sleep
            in babies. I “google imaged” Ferber technique and it gave me a very
            clear table of how to execute controlled crying in babies.
          </p>
          <button class="bg-yellow-800 text-white px-3 py-2 rounded-lg">
            Buy Now
          </button>
        </div>
        <div class="w-1/2 p-6 rounded-lg">
          <img
            class="rounded-lg mx-auto w-[120px]"
            src="https://miro.medium.com/v2/resize:fit:1400/1*Wzs-HI60XUCvS4v6bg1G_A.jpeg"
            alt=""
          />
        </div>
      </div>
    </div>
    <div class="slide bg-gray-100">
      <div class="flex justify-between items-center">
        <div class="w-1/2 px-16 ml-12">
          <h5 class="text-yellow-400 my-2 text-2xl">Best Management</h5>
          <h1 class="text-5xl font-bold mb-2">The Miracle Morning</h1>
          <p class="text-xl italic mb-5">Hal Elrod</p>
          <p class="text-sm mb-5">
            It is an awesome book and. It is the best self development book
            .It's really too good for beginners and quotes of this books is
            motivate me for waking up early in the morning and after read this
            book my every morning was miracle it also help you how to achieve
            your goals .it really change my life .
          </p>
          <button class="bg-yellow-800 text-white px-3 py-2 rounded-lg">
            Explore Now
          </button>
        </div>
        <div class="w-1/2 p-6 rounded-lg">
          <img
            class="rounded-lg mx-auto w-[120px]"
            src="https://scoreread.com/content/images/2023/12/the-morning-miracle--bed-.jpg"
            alt=""
          />
        </div>
      </div>
    </div>
  </div>
  <div class="flex justify-between">
    <div class="btns1">
      <button onclick="goPrev()">
        <svg
          class="bg-white rounded-full h-12 w-12"
          height="512px"
          id="Layer_1"
          style="enable-background: new 0 0 512 512"
          version="1.1"
          viewBox="0 0 512 512"
          width="512px"
          xml:space="preserve"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
        >
          <polygon
            points="352,115.4 331.3,96 160,256 331.3,416 352,396.7 201.5,256 "
          />
        </svg>
      </button>
    </div>
    <div class="btns2">
      <button onclick="goNext()">
        <svg
          class="bg-white rounded-full h-12 w-12"
          height="50px"
          id="Layer_1"
          style="enable-background: new 0 0 512 512"
          version="1.1"
          viewBox="0 0 512 512"
          width="512px"
          xml:space="preserve"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
        >
          <polygon
            points="160,115.4 180.7,96 352,256 180.7,416 160,396.7 310.5,256 "
          />
        </svg>
      </button>
    </div>
  </div>
</div>




<h1 class="text-5xl text-bold mx-32 mt-12">Books on sale</h1>
<div class="w-24 h-1 bg-black mx-32 mt-3"></div>
<!-- book card start -->
<div class="grid grid-cols-4 gap-4 mx-24 my-12">
  {% for i in books %}
  <div class="mx-auto">
    <div class="rounded-lg">
      <div class="p-6 bg-gray-100 rounded-lg">
        <img class="w-56 h-72 rounded-lg" src="{{ i.image.url }}" alt="#" />
      </div>
      <div class="px-6 mt-3">
        <h5 class="text-xl font-bold">{{i.title | truncatechars:20 }}</h5>
        <p class="italic">{{ i.author }}</p>
      </div>
      <div class="flex justify-between items-center py-3 px-6">
        <p class="text-xl">${{ i.price }}</p>
        <a href="">
          <button class="bg-black text-white px-3 py-2 rounded-lg">Buy Now</button>
        </a>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

<!-- book card end -->










<!-- script source start here -->
<script>
  const slides = document.querySelectorAll(".slide");
  let counter = 0;
  const totalSlides = slides.length;
  slides.forEach((slide, index) => {
    slide.style.left = `${index * 100}%`;
  });

  const goNext = () => {
    if (counter < totalSlides - 1) {
      counter++;
    } else {
      counter = 0; // Reset to the first slide if at the last slide
    }
    slideDiv();
  };
  const goPrev = () => {
    if (counter > 0) {
      counter--;
    } else {
      counter = totalSlides - 1; // Go to the last slide if at the first slide
    }
    slideDiv();
  };

  const slideDiv = () => {
    slides.forEach((slide) => {
      slide.style.transform = `translateX(-${counter * 100}%)`;
    });
  };

  const autoSlide = () => {
    setInterval(() => {
      goNext();
    }, 5000);
  };

  document.addEventListener("DOMContentLoaded", autoSlide);




  const root = document.documentElement;
const marqueeElementsDisplayed = getComputedStyle(root).getPropertyValue("--marquee-elements-displayed");
const marqueeContent = document.querySelector("ul.marquee-content");

root.style.setProperty("--marquee-elements", marqueeContent.children.length);

for(let i=0; i<marqueeElementsDisplayed; i++) {
  marqueeContent.appendChild(marqueeContent.children[i].cloneNode(true));
}
</script>

{% endblock %}
